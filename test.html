<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æœ€å°æµ‹è¯•</title>
<style>
body {
  background: #1a1a2e;
  color: #fff;
  font-family: Arial, sans-serif;
  padding: 20px;
  margin: 0;
}
h1 {
  color: #4ade80;
  text-align: center;
  padding: 20px;
}
.test-section {
  margin: 40px auto;
  max-width: 1200px;
  background: rgba(255,255,255,0.1);
  padding: 30px;
  border-radius: 15px;
}
.policy-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 20px;
  margin: 20px 0;
}
.policy-item {
  background: rgba(0,0,0,0.3);
  padding: 25px;
  border-radius: 12px;
  border: 2px solid #4ade80;
  cursor: pointer;
  transition: 0.3s;
}
.policy-item:hover {
  background: rgba(0,0,0,0.5);
  transform: translateY(-5px);
}
.policy-item h3 {
  color: #4ade80;
  margin: 0 0 15px 0;
  font-size: 20px;
}
.policy-item p {
  color: #fff;
  margin: 0;
  font-size: 16px;
  line-height: 1.6;
}
.news-item {
  background: rgba(0,0,0,0.3);
  padding: 20px;
  border-radius: 10px;
  border: 2px solid #4ade80;
  margin-bottom: 15px;
  cursor: pointer;
  transition: 0.3s;
}
.news-item:hover {
  background: rgba(0,0,0,0.5);
  transform: translateX(5px);
}
.news-item h3 {
  color: #4ade80;
  margin: 0 0 10px 0;
  font-size: 18px;
}
.news-item .date {
  color: #999;
  font-size: 14px;
  margin-bottom: 8px;
}
.news-item p {
  color: #fff;
  margin: 0;
  font-size: 15px;
  line-height: 1.5;
}
.lang-btn {
  position: fixed;
  top: 20px;
  right: 20px;
  background: #4ade80;
  color: #1a1a2e;
  border: none;
  padding: 12px 24px;
  border-radius: 25px;
  cursor: pointer;
  font-weight: 700;
  font-size: 16px;
  z-index: 1000;
}
.lang-btn:hover {
  background: #10b981;
}
.debug-info {
  background: #000;
  color: #0f0;
  padding: 20px;
  border-radius: 10px;
  margin: 20px 0;
  font-family: monospace;
  font-size: 14px;
  white-space: pre-wrap;
}
</style>
</head>
<body>

<button class="lang-btn" id="langBtn" onclick="toggleLang()">EN</button>

<h1>ğŸ” åŠŸèƒ½æµ‹è¯•é¡µé¢</h1>

<div class="test-section">
  <h2 style="color:#4ade80">è°ƒè¯•ä¿¡æ¯</h2>
  <div class="debug-info" id="debugInfo">ç­‰å¾…åŠ è½½...</div>
</div>

<div class="test-section">
  <h2 id="policyTitle" style="color:#4ade80">æµ·å—ä¼˜æƒ æ”¿ç­–</h2>
  <div class="policy-grid" id="policyGrid"></div>
</div>

<div class="test-section">
  <h2 id="newsTitle" style="color:#4ade80">æœ€æ–°åŠ¨æ€</h2>
  <div id="newsLatest"></div>
</div>

<script>
// å½“å‰è¯­è¨€
let currentLang = 'zh';

// ç¿»è¯‘å¯¹è±¡
const translations = {
  zh: {
    policyTitle: 'æµ·å—ä¼˜æƒ æ”¿ç­–',
    newsTitle: 'æœ€æ–°åŠ¨æ€'
  },
  en: {
    policyTitle: 'Hainan Policies',
    newsTitle: 'Latest Updates'
  }
};

// æ”¿ç­–æ•°æ®
const policyData = [
  {
    id: 'pol1',
    title_zh: 'ğŸ¯ é›¶å…³ç¨',
    title_en: 'ğŸ¯ Zero Tariff',
    summary_zh: 'åŠ å·¥å¢å€¼30%ä»¥ä¸Šå…å…³ç¨',
    summary_en: '30%+ value-added exempt'
  },
  {
    id: 'pol2',
    title_zh: 'ğŸ’° ä½ç¨ç‡',
    title_en: 'ğŸ’° Low Tax Rate',
    summary_zh: 'ä¼ä¸šæ‰€å¾—ç¨15%ï¼Œä¸ªäººæ‰€å¾—ç¨15%',
    summary_en: '15% corporate & personal tax'
  },
  {
    id: 'pol3',
    title_zh: 'ğŸŒ è´¸æ˜“è‡ªç”±',
    title_en: 'ğŸŒ Trade Freedom',
    summary_zh: 'è´§ç‰©ã€æœåŠ¡è´¸æ˜“é›¶å…³ç¨',
    summary_en: 'Zero tariff for goods & services'
  },
  {
    id: 'pol4',
    title_zh: 'ğŸ’µ æŠ•èµ„è‡ªç”±',
    title_en: 'ğŸ’µ Investment Freedom',
    summary_zh: 'éç¦å³å…¥ï¼Œå¤–èµ„å‡†å…¥',
    summary_en: 'Foreign investment welcome'
  },
  {
    id: 'pol5',
    title_zh: 'ğŸ”„ è·¨å¢ƒèµ„é‡‘',
    title_en: 'ğŸ”„ Capital Flow',
    summary_zh: 'èµ„é‡‘è‡ªç”±è¿›å‡º',
    summary_en: 'Free capital flow'
  },
  {
    id: 'pol6',
    title_zh: 'âœˆï¸ äººå‘˜è¿›å‡º',
    title_en: 'âœˆï¸ Personnel Movement',
    summary_zh: 'æ—…æ¸¸å…ç­¾ã€å·¥ä½œè®¸å¯ä¾¿åˆ©',
    summary_en: 'Visa-free travel, work permit convenience'
  }
];

// æ–°é—»æ•°æ®
const newsData = [
  {
    id: 'news1',
    title_zh: 'ğŸš€ å°å…³è¿ä½œå€’è®¡æ—¶',
    title_en: 'ğŸš€ Closure Countdown',
    date: '2025-12-01',
    summary_zh: '2025å¹´åº•å‰å®ç°å…¨å²›å°å…³è¿ä½œ',
    summary_en: 'Island-wide closure by end of 2025'
  },
  {
    id: 'news2',
    title_zh: 'ğŸ“ˆ äººæ‰ä¸ªç¨æ”¿ç­–å»¶ç»­',
    title_en: 'ğŸ“ˆ Talent Tax Extended',
    date: '2024-12-20',
    summary_zh: 'é«˜ç«¯äººæ‰ä¸ªç¨è¶…15%éƒ¨åˆ†å…å¾å»¶è‡³2035å¹´',
    summary_en: 'High-end talent tax benefits extended to 2035'
  },
  {
    id: 'news3',
    title_zh: 'ğŸ‰ æ€»ä¹¦è®°è€ƒå¯Ÿæµ·å—',
    title_en: 'ğŸ‰ President Visit',
    date: '2024-11-15',
    summary_zh: 'å¼ºè°ƒåŠ å¿«å»ºè®¾å…·æœ‰ä¸–ç•Œå½±å“åŠ›çš„è‡ªç”±è´¸æ˜“æ¸¯',
    summary_en: 'Emphasized building world-class free trade port'
  },
  {
    id: 'news4',
    title_zh: 'ğŸ’¼ å‰11æœˆå¤–è´¸å¤§å¢',
    title_en: 'ğŸ’¼ Trade Growth',
    date: '2024-12-10',
    summary_zh: '2025å¹´å‰11æœˆè¿›å‡ºå£æ€»é¢å¢é•¿19.4%',
    summary_en: 'Jan-Nov 2025 trade up 19.4%'
  }
];

// è°ƒè¯•æ—¥å¿—å‡½æ•°
function log(msg) {
  const debugDiv = document.getElementById('debugInfo');
  const timestamp = new Date().toLocaleTimeString();
  debugDiv.textContent += `[${timestamp}] ${msg}\n`;
  console.log(msg);
}

// æ¸²æŸ“æ”¿ç­–
function renderPolicy() {
  log('renderPolicy() å¼€å§‹æ‰§è¡Œ');
  log(`å½“å‰è¯­è¨€: ${currentLang}`);
  log(`æ”¿ç­–æ•°æ®æ•°é‡: ${policyData.length}`);
  
  const lang = currentLang;
  const policyGrid = document.getElementById('policyGrid');
  
  if (!policyGrid) {
    log('âŒ é”™è¯¯: æ‰¾ä¸åˆ° policyGrid å…ƒç´ !');
    return;
  }
  
  const html = policyData.map(p => `
    <div class="policy-item">
      <h3>${lang === 'zh' ? p.title_zh : p.title_en}</h3>
      <p>${lang === 'zh' ? p.summary_zh : p.summary_en}</p>
    </div>
  `).join('');
  
  policyGrid.innerHTML = html;
  log(`âœ… æ”¿ç­–æ¸²æŸ“å®Œæˆ! HTMLé•¿åº¦: ${html.length}`);
}

// æ¸²æŸ“æ–°é—»
function renderNews() {
  log('renderNews() å¼€å§‹æ‰§è¡Œ');
  log(`å½“å‰è¯­è¨€: ${currentLang}`);
  log(`æ–°é—»æ•°æ®æ•°é‡: ${newsData.length}`);
  
  const lang = currentLang;
  const newsLatest = document.getElementById('newsLatest');
  
  if (!newsLatest) {
    log('âŒ é”™è¯¯: æ‰¾ä¸åˆ° newsLatest å…ƒç´ !');
    return;
  }
  
  const html = newsData.map(n => `
    <div class="news-item">
      <h3>${lang === 'zh' ? n.title_zh : n.title_en}</h3>
      <div class="date">${n.date}</div>
      <p>${lang === 'zh' ? n.summary_zh : n.summary_en}</p>
    </div>
  `).join('');
  
  newsLatest.innerHTML = html;
  log(`âœ… æ–°é—»æ¸²æŸ“å®Œæˆ! HTMLé•¿åº¦: ${html.length}`);
}

// è¯­è¨€åˆ‡æ¢
function toggleLang() {
  log('toggleLang() è¢«è°ƒç”¨');
  log(`åˆ‡æ¢å‰è¯­è¨€: ${currentLang}`);
  
  currentLang = currentLang === 'zh' ? 'en' : 'zh';
  log(`åˆ‡æ¢åè¯­è¨€: ${currentLang}`);
  
  // æ›´æ–°æŒ‰é’®
  document.getElementById('langBtn').textContent = currentLang === 'zh' ? 'EN' : 'ä¸­æ–‡';
  
  // æ›´æ–°æ ‡é¢˜
  const t = translations[currentLang];
  document.getElementById('policyTitle').textContent = t.policyTitle;
  document.getElementById('newsTitle').textContent = t.newsTitle;
  
  // é‡æ–°æ¸²æŸ“
  renderPolicy();
  renderNews();
  
  log('âœ… è¯­è¨€åˆ‡æ¢å®Œæˆ!');
}

// é¡µé¢åŠ è½½
document.addEventListener('DOMContentLoaded', function() {
  log('========================================');
  log('é¡µé¢åŠ è½½å®Œæˆ (DOMContentLoaded)');
  log('========================================');
  log(`policyData æ˜¯å¦å­˜åœ¨: ${typeof policyData !== 'undefined'}`);
  log(`newsData æ˜¯å¦å­˜åœ¨: ${typeof newsData !== 'undefined'}`);
  log(`policyData é•¿åº¦: ${policyData ? policyData.length : 'undefined'}`);
  log(`newsData é•¿åº¦: ${newsData ? newsData.length : 'undefined'}`);
  log('');
  
  // æ¸²æŸ“å†…å®¹
  renderPolicy();
  log('');
  renderNews();
  log('');
  log('========================================');
  log('âœ… åˆå§‹åŒ–å®Œæˆ!');
  log('========================================');
});

// é¡µé¢åŠ è½½äº‹ä»¶
window.addEventListener('load', function() {
  log('window.onload è§¦å‘');
});

// é”™è¯¯æ•è·
window.addEventListener('error', function(e) {
  log(`âŒ JavaScripté”™è¯¯: ${e.message}`);
  log(`   æ–‡ä»¶: ${e.filename}`);
  log(`   è¡Œå·: ${e.lineno}`);
});

log('è„šæœ¬å¼€å§‹æ‰§è¡Œ...');
log(`å½“å‰æ—¶é—´: ${new Date().toLocaleString()}`);
</script>

</body>
</html>
