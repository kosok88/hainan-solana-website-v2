===============================================
ä¿®å¤åçš„æµ®åŠ¨æŒ‰é’®ä»£ç ï¼ˆæ”¯æŒä¸­è‹±æ–‡åˆ‡æ¢ï¼‰
===============================================

æ‰¾åˆ°æ‚¨åˆšæ‰æ·»åŠ çš„æµ®åŠ¨æŒ‰é’®ä»£ç ï¼Œç”¨ä¸‹é¢è¿™ä¸ªæ›¿æ¢ï¼š

<!-- ============================================ -->
<!-- ğŸš€ è¶…å¼ºæµ®åŠ¨è”ç³»æŒ‰é’® - æ”¯æŒä¸­è‹±æ–‡åˆ‡æ¢ -->
<!-- ============================================ -->

<div id="floatingContactBtn" style="position:fixed;bottom:30px;right:30px;z-index:99999;">
  <div id="mainContactBtn" style="width:60px;height:60px;background:linear-gradient(135deg,#059669,#10b981);border-radius:50%;box-shadow:0 8px 25px rgba(5,150,105,.4);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s;animation:floatPulse 2s infinite;" onclick="toggleContactMenu()">
    <span style="font-size:28px;">ğŸ“</span>
  </div>
  
  <div id="contactMenu" style="position:absolute;bottom:75px;right:0;background:rgba(0,0,0,.95);backdrop-filter:blur(20px);border-radius:20px;padding:15px;display:none;flex-direction:column;gap:12px;min-width:200px;box-shadow:0 10px 40px rgba(0,0,0,.5);border:2px solid rgba(74,222,128,.3);">
    
    <a href="tel:18117790507" style="display:flex;align-items:center;gap:12px;padding:12px 15px;background:rgba(74,222,128,.15);border-radius:12px;text-decoration:none;transition:.3s;border:1px solid rgba(74,222,128,.3);" onmouseover="this.style.background='rgba(74,222,128,.25)'" onmouseout="this.style.background='rgba(74,222,128,.15)'">
      <span style="font-size:24px;">ğŸ“±</span>
      <div>
        <div id="floatPhoneLabel" style="color:#4ade80;font-size:12px;font-weight:600;">å’¨è¯¢çƒ­çº¿</div>
        <div style="color:#fff;font-size:14px;font-weight:700;">181-1779-0507</div>
      </div>
    </a>
    
    <div onclick="showWeChatQR()" style="display:flex;align-items:center;gap:12px;padding:12px 15px;background:rgba(74,222,128,.15);border-radius:12px;cursor:pointer;transition:.3s;border:1px solid rgba(74,222,128,.3);" onmouseover="this.style.background='rgba(74,222,128,.25)'" onmouseout="this.style.background='rgba(74,222,128,.15)'">
      <span style="font-size:24px;">ğŸ’¬</span>
      <div>
        <div id="floatWechatLabel" style="color:#4ade80;font-size:12px;font-weight:600;">å¾®ä¿¡å’¨è¯¢</div>
        <div style="color:#fff;font-size:14px;font-weight:700;">kosok_hainan</div>
      </div>
    </div>
    
    <a href="https://t.me/KOSOK0898" target="_blank" style="display:flex;align-items:center;gap:12px;padding:12px 15px;background:rgba(74,222,128,.15);border-radius:12px;text-decoration:none;transition:.3s;border:1px solid rgba(74,222,128,.3);" onmouseover="this.style.background='rgba(74,222,128,.25)'" onmouseout="this.style.background='rgba(74,222,128,.15)'">
      <span style="font-size:24px;">âœˆï¸</span>
      <div>
        <div style="color:#4ade80;font-size:12px;font-weight:600;">Telegram</div>
        <div style="color:#fff;font-size:14px;font-weight:700;">@KOSOK0898</div>
      </div>
    </a>
    
    <div onclick="toggleContactMenu()" style="text-align:center;padding:8px;color:#999;font-size:12px;cursor:pointer;border-top:1px solid rgba(255,255,255,.1);margin-top:5px;" onmouseover="this.style.color='#4ade80'" onmouseout="this.style.color='#999'">
      <span id="floatCloseText">æ”¶èµ·</span> â–¼
    </div>
  </div>
</div>

<div id="wechatModal" style="display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.85);z-index:999999;align-items:center;justify-content:center;" onclick="hideWeChatQR()">
  <div style="background:linear-gradient(135deg,#667eea,#764ba2);border-radius:25px;padding:40px;max-width:400px;text-align:center;position:relative;box-shadow:0 20px 60px rgba(0,0,0,.5);" onclick="event.stopPropagation()">
    <div onclick="hideWeChatQR()" style="position:absolute;top:15px;right:15px;width:35px;height:35px;background:rgba(255,255,255,.2);border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:20px;color:#fff;font-weight:300;transition:.3s;" onmouseover="this.style.background='rgba(255,255,255,.3)'" onmouseout="this.style.background='rgba(255,255,255,.2)'">Ã—</div>
    
    <h3 id="wechatModalTitle" style="color:#fff;font-size:24px;margin-bottom:10px;font-weight:700;">ğŸ’¬ æ·»åŠ å¾®ä¿¡å’¨è¯¢</h3>
    <p id="wechatModalDesc" style="color:rgba(255,255,255,.9);margin-bottom:25px;font-size:14px;">æ‰«æäºŒç»´ç æˆ–å¤åˆ¶å¾®ä¿¡å·æ·»åŠ </p>
    
    <div style="background:#fff;padding:20px;border-radius:15px;margin-bottom:25px;box-shadow:0 5px 20px rgba(0,0,0,.2);">
      <img src="wechat_contact.jpg" alt="å¾®ä¿¡äºŒç»´ç " style="width:220px;height:auto;display:block;margin:0 auto;border-radius:10px;">
    </div>
    
    <div style="background:rgba(255,255,255,.15);padding:15px 20px;border-radius:12px;margin-bottom:20px;backdrop-filter:blur(10px);">
      <div id="wechatIdLabel" style="color:rgba(255,255,255,.8);font-size:12px;margin-bottom:5px;">å¾®ä¿¡å·</div>
      <div style="color:#fff;font-size:20px;font-weight:700;letter-spacing:1px;">kosok_hainan</div>
    </div>
    
    <button onclick="copyWeChatID()" id="wechatCopyBtn" style="width:100%;padding:15px;background:linear-gradient(135deg,#4ade80,#22c55e);color:#fff;border:none;border-radius:12px;font-size:16px;font-weight:700;cursor:pointer;transition:.3s;box-shadow:0 4px 15px rgba(74,222,128,.4);" onmouseover="this.style.transform='translateY(-2px)';this.style.boxShadow='0 6px 20px rgba(74,222,128,.5)'" onmouseout="this.style.transform='translateY(0)';this.style.boxShadow='0 4px 15px rgba(74,222,128,.4)'">
      ğŸ“‹ å¤åˆ¶å¾®ä¿¡å·
    </button>
    
    <p id="wechatModalTips" style="color:rgba(255,255,255,.7);font-size:12px;margin-top:15px;line-height:1.6;">
      ğŸ“± æ‰‹æœºç«¯å¯é•¿æŒ‰äºŒç»´ç è¯†åˆ«<br>
      ğŸ’» ç”µè„‘ç«¯å¯æ‰«æäºŒç»´ç æ·»åŠ 
    </p>
  </div>
</div>

<style>
@keyframes floatPulse {
  0%, 100% { 
    transform: translateY(0) scale(1); 
    box-shadow: 0 8px 25px rgba(5,150,105,.4); 
  }
  50% { 
    transform: translateY(-5px) scale(1.05); 
    box-shadow: 0 12px 35px rgba(5,150,105,.6); 
  }
}

#mainContactBtn:hover {
  transform: scale(1.1);
  box-shadow: 0 12px 35px rgba(5,150,105,.6);
}

@media (max-width: 768px) {
  #floatingContactBtn {
    bottom: 20px;
    right: 20px;
  }
  #mainContactBtn {
    width: 55px;
    height: 55px;
  }
  #contactMenu {
    min-width: 180px;
    right: -10px;
  }
}

.copy-success {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: rgba(74, 222, 128, 0.95);
  color: #fff;
  padding: 15px 30px;
  border-radius: 10px;
  font-size: 16px;
  font-weight: 700;
  z-index: 9999999;
  box-shadow: 0 10px 30px rgba(74, 222, 128, 0.5);
  animation: fadeInOut 2s ease-in-out;
}

@keyframes fadeInOut {
  0% { opacity: 0; transform: translate(-50%, -60px); }
  20% { opacity: 1; transform: translate(-50%, -50%); }
  80% { opacity: 1; transform: translate(-50%, -50%); }
  100% { opacity: 0; transform: translate(-50%, -40px); }
}
</style>

<script>
function toggleContactMenu() {
  const menu = document.getElementById('contactMenu');
  if (menu.style.display === 'none' || menu.style.display === '') {
    menu.style.display = 'flex';
  } else {
    menu.style.display = 'none';
  }
}

function showWeChatQR() {
  const modal = document.getElementById('wechatModal');
  modal.style.display = 'flex';
  document.body.style.overflow = 'hidden';
  const menuBtn = document.getElementById('contactMenu');
  if (menuBtn && menuBtn.style.display === 'flex') {
    toggleContactMenu();
  }
}

function hideWeChatQR() {
  document.getElementById('wechatModal').style.display = 'none';
  document.body.style.overflow = 'auto';
}

function copyWeChatID() {
  const wechatID = 'kosok_hainan';
  const tempInput = document.createElement('input');
  tempInput.value = wechatID;
  document.body.appendChild(tempInput);
  tempInput.select();
  
  try {
    document.execCommand('copy');
    showCopySuccess();
  } catch (err) {
    alert('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶ï¼š' + wechatID);
  }
  
  document.body.removeChild(tempInput);
}

function showCopySuccess() {
  const toast = document.createElement('div');
  toast.className = 'copy-success';
  const lang = currentLang || 'zh';
  toast.textContent = lang === 'zh' ? 'âœ… å¾®ä¿¡å·å·²å¤åˆ¶ï¼' : 'âœ… WeChat ID Copied!';
  document.body.appendChild(toast);
  
  setTimeout(() => {
    if (document.body.contains(toast)) {
      document.body.removeChild(toast);
    }
  }, 2000);
}

document.addEventListener('click', function(event) {
  const btn = document.getElementById('floatingContactBtn');
  const menu = document.getElementById('contactMenu');
  if (btn && menu && !btn.contains(event.target) && menu.style.display === 'flex') {
    toggleContactMenu();
  }
});

document.addEventListener('keydown', function(event) {
  if (event.key === 'Escape') {
    hideWeChatQR();
  }
});

// æ›´æ–°æµ®åŠ¨æŒ‰é’®æ–‡æœ¬çš„å‡½æ•°ï¼ˆåœ¨ toggleLang å‡½æ•°ä¸­è°ƒç”¨ï¼‰
function updateFloatingButtonLang() {
  const lang = currentLang || 'zh';
  const floatTexts = {
    zh: {
      phoneLabel: 'å’¨è¯¢çƒ­çº¿',
      wechatLabel: 'å¾®ä¿¡å’¨è¯¢',
      closeText: 'æ”¶èµ·',
      modalTitle: 'ğŸ’¬ æ·»åŠ å¾®ä¿¡å’¨è¯¢',
      modalDesc: 'æ‰«æäºŒç»´ç æˆ–å¤åˆ¶å¾®ä¿¡å·æ·»åŠ ',
      wechatIdLabel: 'å¾®ä¿¡å·',
      copyBtn: 'ğŸ“‹ å¤åˆ¶å¾®ä¿¡å·',
      modalTips: 'ğŸ“± æ‰‹æœºç«¯å¯é•¿æŒ‰äºŒç»´ç è¯†åˆ«<br>ğŸ’» ç”µè„‘ç«¯å¯æ‰«æäºŒç»´ç æ·»åŠ '
    },
    en: {
      phoneLabel: 'Hotline',
      wechatLabel: 'WeChat',
      closeText: 'Close',
      modalTitle: 'ğŸ’¬ Add WeChat',
      modalDesc: 'Scan QR code or copy WeChat ID',
      wechatIdLabel: 'WeChat ID',
      copyBtn: 'ğŸ“‹ Copy WeChat ID',
      modalTips: 'ğŸ“± Long press to scan on mobile<br>ğŸ’» Scan QR code on desktop'
    }
  };
  
  const t = floatTexts[lang];
  const phoneLabel = document.getElementById('floatPhoneLabel');
  const wechatLabel = document.getElementById('floatWechatLabel');
  const closeText = document.getElementById('floatCloseText');
  const modalTitle = document.getElementById('wechatModalTitle');
  const modalDesc = document.getElementById('wechatModalDesc');
  const wechatIdLabel = document.getElementById('wechatIdLabel');
  const copyBtn = document.getElementById('wechatCopyBtn');
  const modalTips = document.getElementById('wechatModalTips');
  
  if (phoneLabel) phoneLabel.textContent = t.phoneLabel;
  if (wechatLabel) wechatLabel.textContent = t.wechatLabel;
  if (closeText) closeText.textContent = t.closeText;
  if (modalTitle) modalTitle.textContent = t.modalTitle;
  if (modalDesc) modalDesc.textContent = t.modalDesc;
  if (wechatIdLabel) wechatIdLabel.textContent = t.wechatIdLabel;
  if (copyBtn) copyBtn.innerHTML = t.copyBtn;
  if (modalTips) modalTips.innerHTML = t.modalTips;
}
</script>

===============================================
é‡è¦ï¼šåœ¨åŸæ¥çš„ toggleLang() å‡½æ•°æœ«å°¾æ·»åŠ 
===============================================

æ‰¾åˆ°æ‚¨ç½‘ç«™ä¸­çš„ toggleLang() å‡½æ•°ï¼ˆå¤§çº¦åœ¨ script æ ‡ç­¾é‡Œï¼‰ï¼Œ
åœ¨å‡½æ•°çš„æœ€åï¼Œæ·»åŠ è¿™ä¸€è¡Œï¼š

function toggleLang(){
  // ... åŸæœ‰çš„ä»£ç  ...
  
  renderNews();
  renderPolicy();
  
  // ğŸ‘‡ æ·»åŠ è¿™ä¸€è¡Œ
  updateFloatingButtonLang();
  
  console.log('Language switch complete');
}

===============================================
å®Œæˆï¼
===============================================

ä¿å­˜åï¼Œæµ®åŠ¨æŒ‰é’®ä¼šéšç€é¡µé¢è¯­è¨€è‡ªåŠ¨åˆ‡æ¢ï¼š

ä¸­æ–‡æ—¶ï¼š
ğŸ“± å’¨è¯¢çƒ­çº¿ | ğŸ’¬ å¾®ä¿¡å’¨è¯¢ | æ”¶èµ·

è‹±æ–‡æ—¶ï¼š
ğŸ“± Hotline | ğŸ’¬ WeChat | Close

å¾®ä¿¡å¼¹çª—ä¹Ÿä¼šåˆ‡æ¢è¯­è¨€ï¼
